(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{13:function(t,e,c){},14:function(t,e,c){"use strict";c.r(e);var n=c(1),s=c.n(n),a=c(5),i=c.n(a),r=c(0);function o(){return Object(r.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(r.jsx)("div",{className:"container-fluid",children:Object(r.jsx)("span",{className:"navbar-brand",children:"MERNstack"})})})}var l=c(2),d=c(4),j=c.n(d),b=c(6);function h(t){var e=t.taskId,c=Object(n.useState)(),s=Object(l.a)(c,2),a=s[0],i=s[1],o=Object(n.useState)(),d=Object(l.a)(o,2),h=d[0],u=d[1];var O=function(){var t=Object(b.a)(j.a.mark((function t(c){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n="http://localhost:5000/add",s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,title:a,description:h})},fetch(n,s).then((function(t){return t.json()})).then((function(t){console.log(t)})).catch((function(t){return t})),c.preventDefault(),c.target.reset();case 3:case"end":return t.stop()}var n,s}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.jsx)("div",{className:"container mt-3",children:Object(r.jsxs)("form",{onSubmit:O,children:[Object(r.jsx)("input",{className:"form-control mb-3",type:"text",placeholder:"add the task name:",onChange:function(t){i(a=t.target.value)}}),Object(r.jsx)("textarea",{className:"form-control mb-3",placeholder:"add the task description:",onChange:function(t){u(h=t.target.value)}}),Object(r.jsx)("button",{className:"btn btn-primary rounded",type:"submit",children:"Create"})]})})}function u(t){var e=t.title,c=t.id,n=t.description,s=t.setDataModal;return Object(r.jsxs)("tr",{className:"container m-4",children:[Object(r.jsx)("th",{scope:"row",children:c}),Object(r.jsx)("td",{children:e}),Object(r.jsx)("td",{children:n}),Object(r.jsxs)("td",{children:[Object(r.jsx)("button",{className:"btn btn-warning me-2",onClick:function(){s({display:"block",task:{id:c,title:e,description:n}})},children:"Change"}),Object(r.jsx)("form",{onSubmit:function(t){window.confirm("are you delete the task: ".concat(c))&&fetch("http://localhost:5000/delete/".concat(c),{method:"DELETE"}).then((function(t){return t.json()})).then((function(t){return t})).catch((function(t){return console.error(t)})),t.preventDefault()},className:"d-inline-block",children:Object(r.jsx)("button",{type:"submit",className:"btn btn-danger",children:"Delete"})})]})]})}function O(t){var e=t.setTasks,c=t.tasks,s=t.setTaskId,a=t.setDataModal;return Object(n.useEffect)((function(){fetch("http://localhost:5000").then((function(t){return t.json()})).then((function(t){t.error||(e(t),s(t[t.length-1].id+1))})).catch((function(t){return t}))})),Object(r.jsx)("section",{className:"container mt-4",children:Object(r.jsxs)("table",{className:"table table-dark",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"col",children:"#"}),Object(r.jsx)("th",{scope:"col",children:"title"}),Object(r.jsx)("th",{scope:"col",children:"description"}),Object(r.jsx)("th",{scope:"col",children:"options"})]})}),Object(r.jsx)("tbody",{children:void 0===c?Object(r.jsxs)("tr",{className:"table-danger",children:[Object(r.jsx)("th",{scope:"row",children:"?"}),Object(r.jsx)("th",{children:"any title task"}),Object(r.jsx)("th",{children:"any description task"}),Object(r.jsx)("th",{children:"you need create a task"})]}):c.map((function(t){return Object(r.jsx)(u,{id:t.id,title:t.title,description:t.description,setDataModal:a},t._id)}))})]})})}function m(t){var e=t.dataModal,c=t.setDataModal,s={display:e.display,background:"#00000090"},a=Object(n.useState)(),i=Object(l.a)(a,2),o=i[0],d=i[1],j=Object(n.useState)(),b=Object(l.a)(j,2),h=b[0],u=b[1];return Object(r.jsx)("div",{className:"modal",style:s,children:Object(r.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",children:Object(r.jsxs)("div",{className:"modal-content",children:[Object(r.jsxs)("div",{className:"modal-header bg-dark",children:[Object(r.jsxs)("h5",{className:"modal-title text-white",children:["You are going to change the task: ",e.task.id]}),Object(r.jsx)("button",{type:"button",className:"btn-close btn-close-white",onClick:function(){c({display:"none",task:{id:"",title:"",description:""}})}})]}),Object(r.jsxs)("div",{className:"modal-body",children:[Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("span",{children:"Before:"}),Object(r.jsxs)("table",{className:"table",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"col",children:"#"}),Object(r.jsx)("th",{scope:"col",children:"title"}),Object(r.jsx)("th",{scope:"col",children:"description"})]})}),Object(r.jsx)("tbody",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e.task.id}),Object(r.jsx)("td",{children:e.task.title}),Object(r.jsx)("td",{children:e.task.description})]})})]})]}),Object(r.jsx)("hr",{}),Object(r.jsxs)("form",{id:"changeForm",className:"container",onSubmit:function(t){var n="http://localhost:5000/update/".concat(e.task.id),s={method:"PUT",body:JSON.stringify({title:o,description:h}),headers:{"Content-Type":"application/json"}};fetch(n,s).then((function(t){return t.json()})).then((function(t){console.log(t)})).catch((function(t){return t})),c({display:"none",task:{id:"",title:"",description:""}}),t.preventDefault(),t.target.reset()},children:[Object(r.jsxs)("div",{className:"mb-3",children:[Object(r.jsx)("span",{children:"Change:"}),Object(r.jsxs)("label",{className:"container",children:["New title:",Object(r.jsx)("input",{className:"form-control",type:"text",onChange:function(t){d(o=t.target.value)}})]})]}),Object(r.jsx)("div",{className:"mb-3",children:Object(r.jsxs)("label",{className:"container",children:["New description:",Object(r.jsx)("textarea",{className:"form-control",onChange:function(t){u(h=t.target.value)}})]})})]})]}),Object(r.jsxs)("div",{className:"modal-footer",children:[Object(r.jsx)("button",{type:"submit",className:"btn btn-primary",form:"changeForm",children:"Save changes"}),Object(r.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:function(){c({display:"none",task:{id:"",title:"",description:""}})},children:"Close"})]})]})})})}function x(){var t=Object(n.useState)(void 0),e=Object(l.a)(t,2),c=e[0],s=e[1],a=Object(n.useState)(1),i=Object(l.a)(a,2),o=i[0],d=i[1],j=Object(n.useState)({display:"none",task:{id:0,title:"",description:""}}),b=Object(l.a)(j,2),u=b[0],x=b[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(h,{taskId:o,setTaskId:d}),Object(r.jsx)(O,{setTasks:s,tasks:c,setTaskId:d,taskId:o,setDataModal:x}),"ReactDOM.createPortal(",Object(r.jsx)(m,{dataModal:u,setDataModal:x}),',document.getElementById("modal"))']})}c(13);i.a.render(Object(r.jsxs)(s.a.StrictMode,{children:[Object(r.jsx)(o,{}),Object(r.jsx)(x,{})]}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.0622f2d6.chunk.js.map